<div fxLayout="column" fxFill >
    <mat-toolbar color="primary">
        <mat-toolbar-row>
            <h1 class="application-title"><a [routerLink]="['/']">Alf.io</a></h1>
                
            <button mat-button (click)="openOrganizationSelector()" *ngIf="organizations && selected">
                <mat-icon svgIcon="business"></mat-icon>
                {{selected.name}}
                <mat-icon svgIcon="arrow_drop_down"></mat-icon>
            </button>

            <div fxFlex></div>
            
            <button mat-button [matMenuTriggerFor]="menu">
                <mat-icon svgIcon="person"></mat-icon><span *ngIf="userInfo">{{userInfo.username}}</span>
            </button>
            <mat-menu #menu="matMenu">
                <a mat-menu-item [routerLink]="['/profile']">Edit account</a>
                <button mat-menu-item (click)="logout()">Logout</button>
            </mat-menu>
        </mat-toolbar-row>
    </mat-toolbar>
    <mat-sidenav-container fxFlex="auto">
        <mat-sidenav opened mode="side" [disableClose]="true">
            <app-left-menu [organization]="selected" [userInfo]="userInfo"></app-left-menu>
        </mat-sidenav>
        <mat-sidenav-content>
            <div class="main-content">
                <router-outlet></router-outlet>
            </div>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>